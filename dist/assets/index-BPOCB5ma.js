const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NoRolePage-jnK6biwv.js","assets/radix-ui-CFzOGHpw.js","assets/react-vendor-Crp7TieP.js","assets/refine-core-07UiCtt_.js","assets/utils-DA8XHnZ8.js","assets/refine-ui-CxmOseGy.js","assets/forms-CRFkyq38.js","assets/ui-utils-ohghcBNL.js","assets/tables-BhgJu2_C.js","assets/LoginPage-BF5Pr80V.js","assets/NarrowCol-CRFR8vwq.js","assets/RegisterFlow-BFRQxNuP.js","assets/ForgotPasswordPage-CzoptTVF.js","assets/UpdatePasswordPage-DadOFvyo.js"])))=>i.map(i=>d[i]);
var la=Object.defineProperty;var oa=(s,a,r)=>a in s?la(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r;var ce=(s,a,r)=>oa(s,typeof a!="symbol"?a+"":a,r);import{j as e,R as He,I as Qe,F as Ge,S as De,a as Ye,P as ca,C as Xe,b as Je,V as da,c as ma,d as es,e as xa,T as ss,f as ha,g as as,h as rs,i as ua,k as ts,l as ja,L as is,m as ns,n as pa,o as ga,p as ls,q as ba,r as fa,s as os,t as cs,u as ds,v as ms,w as xs,x as wa,y as hs,z as ya,A as va,B as us,D as Na,E as ka,G as za,H as _a,J as js,O as ps,K as Ca,M as gs,N as Sa,Q as bs,U as fs,W as ws,X as Ra}from"./radix-ui-CFzOGHpw.js";import{k as Pa,a as o,N as Oe,e as Ie,l as d,n as Y,o as E,O as ae,B as Ea,d as La,R as Fa}from"./react-vendor-Crp7TieP.js";import{T as Aa}from"./utils-DA8XHnZ8.js";import{M as Da,d as Ia,n as ys,$ as Ta,I as M,e as R,f as xe,X as Oa,i as Ba,E as X,Q as $a,j as qa,l as Ua,D as Ma}from"./refine-core-07UiCtt_.js";import{c as Va,k as V,_ as he,I as Wa}from"./refine-ui-CxmOseGy.js";import{t as Ka,c as Za,a as we,C as Te,b as Ha,d as vs,X as Ns,M as ks,L as Qa,B as zs,e as re,U as J,S as _s,T as U,A as me,f as Ga,g as Se,P as te,E as ue,h as W,i as L,j as Ya,k as ie,l as Re,R as Be,m as de,n as $e,o as Xa,p as Ja,q as er,F as sr,r as ar,s as rr}from"./ui-utils-ohghcBNL.js";import{R as tr,A as ir,a as nr,X as lr,Y as or}from"./tables-BhgJu2_C.js";import"./forms-CRFkyq38.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var be={},qe;function cr(){if(qe)return be;qe=1;var s=Pa();return be.createRoot=s.createRoot,be.hydrateRoot=s.hydrateRoot,be}var dr=cr();const mr="https://bkuvjleqoubzbauczrsf.supabase.co",xr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJrdXZqbGVxb3ViemJhdWN6cnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3OTg2MzgsImV4cCI6MjA3MzM3NDYzOH0.3C0VTIppXgmVQvZU4oS_uwB7ebZ5bVuKOduKZ0mpmXg",I=Va(mr,xr,{db:{schema:"public"},auth:{persistSession:!0}}),f=(...s)=>Ka(Za(s)),hr={invalid_credentials:"Nieprawidłowy email lub hasło.","Invalid login credentials":"Nieprawidłowy email lub hasło.",email_not_confirmed:"Email nie został potwierdzony.","Email not confirmed":"Email nie został potwierdzony.",user_not_found:"Nie znaleziono użytkownika.","User not found":"Nie znaleziono użytkownika.",network_error:"Błąd połączenia z serwerem.","Too many requests":"Zbyt wiele prób. Spróbuj ponownie za chwilę."},ur=s=>{if(!s)return{message:"Nieznany błąd",name:"UnknownError",statusCode:500};const a=s.message||s.error_description||"";for(const[r,t]of Object.entries(hr))if(a.includes(r))return{message:t,name:"LoginError",statusCode:s.code==="invalid_credentials"?401:400};return{message:a||"Błąd logowania",name:"LoginError",statusCode:400}},Cs={login:async(s,a)=>{try{if(!s||!a)return{success:!1,error:"Email i hasło są wymagane"};const{data:r,error:t}=await I.auth.signInWithPassword({email:s.trim().toLowerCase(),password:a});return t?{success:!1,error:ur(t).message}:r.session?{success:!0}:{success:!1,error:"Nie udało się utworzyć sesji"}}catch(r){return{success:!1,error:r.message||"Nieznany błąd"}}},loginForRefine:async(s,a)=>{const r=await Cs.login(s,a);return r.success?r:{success:!1,error:{message:r.error,name:"LoginError",statusCode:400}}},checkAuth:async()=>{const{data:{session:s}}=await I.auth.getSession();return!!s}},jr={user_already_exists:"Konto z tym adresem email już istnieje","User already registered":"Konto z tym adresem email już istnieje","already exists":"Konto z tym adresem email już istnieje",weak_password:"Hasło musi mieć co najmniej 6 znaków","Password should be at least":"Hasło musi mieć co najmniej 6 znaków","Password cannot be longer than 72":"Hasło nie może być dłuższe niż 72 znaki",invalid_email:"Nieprawidłowy format adresu email","Invalid email":"Nieprawidłowy format adresu email",over_email_send_rate_limit:"Za szybko! Poczekaj 2 sekundy przed ponowną próbą"},Ue=s=>{if(!s)return{message:"Nieznany błąd",name:"UnknownError",statusCode:500};const a=s.message||"";for(const[r,t]of Object.entries(jr))if(a.includes(r)){let n=400;return r.includes("already")&&(n=409),r.includes("email_send_rate")&&(n=429),{message:t,name:"RegisterError",statusCode:n}}return{message:a||"Rejestracja nie powiodła się",name:"RegisterError",statusCode:400}},Ss={register:async(s,a,r)=>{try{const{data:t,error:n}=await I.auth.signUp({email:s.trim().toLowerCase(),password:a,options:{data:{full_name:r.trim(),role:"student"},emailRedirectTo:`${window.location.origin}/login?verified=true`}});return n?{success:!1,error:Ue(n).message}:t.user?{success:!0,needsEmailConfirmation:!t.session}:{success:!1,error:"Rejestracja nie powiodła się"}}catch(t){return{success:!1,error:t.message||"Błąd rejestracji"}}},registerForRefine:async(s,a,r)=>{const t=await Ss.register(s,a,r);return t.success?{success:!0,successNotification:t.needsEmailConfirmation?{message:"Rejestracja udana!",description:"Sprawdź email aby potwierdzić konto."}:{message:"Rejestracja udana!",description:"Możesz się teraz zalogować."}}:{success:!1,error:Ue({message:t.error})}}},pr={"User not found":"Nie znaleziono użytkownika z tym adresem email","Invalid email":"Nieprawidłowy format adresu email",over_email_send_rate_limit:"Za szybko! Poczekaj chwilę przed kolejną próbą",reset_password_rate_limit:"Zbyt wiele prób. Spróbuj ponownie za kilka minut"},Me=s=>{if(!s)return{message:"Nieznany błąd",name:"UnknownError",statusCode:500};const a=s.message||"";for(const[r,t]of Object.entries(pr))if(a.includes(r))return{message:t,name:"ForgotPasswordError",statusCode:r.includes("rate_limit")?429:400};return{message:a||"Błąd podczas wysyłania emaila",name:"ForgotPasswordError",statusCode:400}},Rs={sendResetEmail:async s=>{try{const{error:a}=await I.auth.resetPasswordForEmail(s.trim().toLowerCase(),{redirectTo:`${window.location.origin}/update-password`});return a?{success:!1,error:Me(a).message}:{success:!0}}catch(a){return{success:!1,error:a.message||"Błąd podczas wysyłania emaila"}}},sendResetEmailForRefine:async s=>{const a=await Rs.sendResetEmail(s);return a.success?{success:!0,successNotification:{message:"Email wysłany!",description:"Sprawdź swoją skrzynkę odbiorczą"}}:{success:!1,error:Me({message:a.error})}}},gr={"New password should be different":"Nowe hasło musi być inne niż obecne","Password should be at least":"Hasło musi mieć co najmniej 6 znaków","Invalid token":"Link wygasł lub jest nieprawidłowy",session_not_found:"Sesja wygasła. Spróbuj ponownie"},Ve=s=>{if(!s)return{message:"Nieznany błąd",name:"UnknownError",statusCode:500};const a=s.message||"";for(const[r,t]of Object.entries(gr))if(a.includes(r))return{message:t,name:"UpdatePasswordError",statusCode:r.includes("token")||r.includes("session")?401:400};return{message:a||"Błąd aktualizacji hasła",name:"UpdatePasswordError",statusCode:400}},Ps={checkSession:async()=>{try{const{data:s}=await I.auth.getSession(),r=new URLSearchParams(window.location.hash.substring(1)).get("type");return!s.session&&r!=="recovery"?{isValid:!1,error:"Link wygasł lub jest nieprawidłowy"}:{isValid:!0}}catch{return{isValid:!1,error:"Błąd weryfikacji sesji"}}},updatePassword:async s=>{try{const{error:a}=await I.auth.updateUser({password:s});return a?{success:!1,error:Ve(a).message}:{success:!0}}catch(a){return{success:!1,error:a.message||"Błąd aktualizacji hasła"}}},updatePasswordForRefine:async s=>{const a=await Ps.updatePassword(s);return a.success?{success:!0,redirectTo:"/login?passwordChanged=true"}:{success:!1,error:Ve({message:a.error})}}};class br{constructor(){ce(this,"cache",null);ce(this,"lastFetch",0);ce(this,"CACHE_DURATION",300*1e3);ce(this,"fetchPromise",null)}async get(a=!1){const r=Date.now();if(!a&&this.cache&&r-this.lastFetch<this.CACHE_DURATION)return this.cache;if(this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetchUser();const t=await this.fetchPromise;return this.fetchPromise=null,t}async fetchUser(){try{const{data:{session:a}}=await I.auth.getSession();if(!a?.user)return this.clear(),null;const{data:r,error:t}=await I.from("users").select("*").eq("id",a.user.id).single();if(t||!r){console.error("Error fetching user data:",t);const i={id:a.user.id,email:a.user.email||"",full_name:a.user.user_metadata?.full_name||a.user.email?.split("@")[0]||"User",vendor_id:1,role:"student"};return this.set(i),i}const n={id:r.id,email:r.email,full_name:r.full_name,vendor_id:r.vendor_id,role:r.role,is_active:r.is_active,created_at:r.created_at};return this.set(n),n}catch(a){return console.error("Error in fetchUser:",a),this.clear(),null}}set(a){this.cache=a,this.lastFetch=Date.now()}clear(){this.cache=null,this.lastFetch=0,this.fetchPromise=null}async refresh(){return this.get(!0)}}const Q=new br;I.auth.onAuthStateChange((s,a)=>{s==="SIGNED_OUT"||!a?Q.clear():(s==="SIGNED_IN"||s==="TOKEN_REFRESHED")&&Q.get(!0)});const ve={logout:async()=>{try{Q.clear();const{error:s}=await I.auth.signOut();return s?{success:!1,error:{message:"Błąd podczas wylogowania",name:"LogoutError",statusCode:500}}:{success:!0,redirectTo:"/login"}}catch{return{success:!1,error:{message:"Nieoczekiwany błąd podczas wylogowania",name:"LogoutError",statusCode:500}}}},check:async()=>{try{const{data:{session:s}}=await I.auth.getSession();if(!s)return{authenticated:!1,redirectTo:"/login"};const a=s.expires_at;return a&&a*1e3<Date.now()?{authenticated:!1,redirectTo:"/login"}:{authenticated:!0}}catch{return{authenticated:!1,redirectTo:"/login"}}},handleError:async s=>(console.error("Auth error:",s),s?.statusCode===401?(Q.clear(),{redirectTo:"/login",logout:!0,error:s}):{error:s})},fr={login:async({email:s,password:a})=>{const r=await Cs.login(s,a);return r.success&&await Q.refresh(),r},logout:async()=>await ve.logout(),check:async()=>await ve.check(),getIdentity:async()=>await Q.get(),getPermissions:async()=>(await Q.get())?.role||null,register:async({email:s,password:a,name:r})=>await Ss.registerForRefine(s,a,r),forgotPassword:async({email:s})=>await Rs.sendResetEmailForRefine(s),updatePassword:async({password:s})=>{const a=await Ps.updatePasswordForRefine(s);return a.success&&await Q.clear(),a},onError:async s=>await ve.handleError(s)},F=({isLoading:s,isError:a,loadingText:r="Loading...",errorMsg:t="Error loading data"})=>s?e.jsx("div",{className:"p-6 text-gray-600 animate-reverse-pulse",children:r}):a?e.jsx("div",{className:"p-6 text-red-500",children:t}):null,wr=we("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-3.5 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yr=o.forwardRef(({className:s,variant:a,...r},t)=>e.jsx("div",{ref:t,role:"alert",className:f(wr({variant:a}),s),...r}));yr.displayName="Alert";const vr=o.forwardRef(({className:s,...a},r)=>e.jsx("h5",{ref:r,className:f("mb-1 font-medium leading-none tracking-tight",s),...a}));vr.displayName="AlertTitle";const Nr=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("text-sm [&_p]:leading-relaxed",s),...a}));Nr.displayName="AlertDescription";const kr=o.forwardRef(({className:s,...a},r)=>e.jsx(He,{ref:r,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));kr.displayName=He.displayName;const zr=o.forwardRef(({className:s,...a},r)=>e.jsx(Qe,{ref:r,className:f("aspect-square h-full w-full object-cover",s),...a}));zr.displayName=Qe.displayName;const _r=o.forwardRef(({className:s,...a},r)=>e.jsx(Ge,{ref:r,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));_r.displayName=Ge.displayName;const Cr=we("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function v({className:s,variant:a,asChild:r=!1,...t}){const n=r?De:"span";return e.jsx(n,{"data-slot":"badge",className:f(Cr({variant:a}),s),...t})}const Sr=o.forwardRef(({...s},a)=>e.jsx("nav",{ref:a,"aria-label":"breadcrumb",...s}));Sr.displayName="Breadcrumb";const Rr=o.forwardRef(({className:s,...a},r)=>e.jsx("ol",{ref:r,className:f("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...a}));Rr.displayName="BreadcrumbList";const Pr=o.forwardRef(({className:s,...a},r)=>e.jsx("li",{ref:r,className:f("inline-flex items-center gap-1.5",s),...a}));Pr.displayName="BreadcrumbItem";const Er=o.forwardRef(({asChild:s,className:a,...r},t)=>{const n=s?De:"a";return e.jsx(n,{ref:t,className:f("transition-colors hover:text-foreground",a),...r})});Er.displayName="BreadcrumbLink";const Lr=o.forwardRef(({className:s,...a},r)=>e.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:f("font-normal text-foreground",s),...a}));Lr.displayName="BreadcrumbPage";const Fr=we("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=o.forwardRef(({className:s,variant:a,size:r,asChild:t=!1,...n},i)=>{const l=t?De:"button";return e.jsx(l,{className:f(Fr({variant:a,size:r,className:s})),ref:i,...n})});x.displayName="Button";const k=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("rounded-xl border bg-card text-card-foreground shadow flex flex-col overflow-hidden",s),...a}));k.displayName="Card";const z=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("flex flex-col space-y-1.5 p-6 pb-3 bg-pink-200/25",s),...a}));z.displayName="CardHeader";const S=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("text-lg font-semibold leading-tight tracking-tight pt-3",s),...a}));S.displayName="CardTitle";const Es=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("text-sm text-muted-foreground",s),...a}));Es.displayName="CardDescription";const _=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("p-3 lg:p-6 pt-3 space-y-3 flex-1 bg-background",s),...a}));_.displayName="CardContent";const ee=o.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:f("flex items-center justify-between p-6 pt-0",s),...a}));ee.displayName="CardFooter";const Ar=we("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=o.forwardRef(({className:s,...a},r)=>e.jsx(Ye,{ref:r,className:f(Ar(),s),...a}));Pe.displayName=Ye.displayName;o.createContext({});o.createContext({});const g=o.forwardRef(({className:s,type:a,...r},t)=>e.jsx("input",{type:a,className:f("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r}));g.displayName="Input";const Dr=o.forwardRef(({className:s,align:a="center",sideOffset:r=4,...t},n)=>e.jsx(ca,{children:e.jsx(Xe,{ref:n,align:a,sideOffset:r,className:f("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...t})}));Dr.displayName=Xe.displayName;const Ls=o.forwardRef(({className:s,children:a,...r},t)=>e.jsxs(Je,{ref:t,className:f("relative overflow-hidden",s),...r,children:[e.jsx(da,{className:"h-full w-full rounded-[inherit]",children:a}),e.jsx(Fs,{}),e.jsx(ma,{})]}));Ls.displayName=Je.displayName;const Fs=o.forwardRef(({className:s,orientation:a="vertical",...r},t)=>e.jsx(es,{ref:t,orientation:a,className:f("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:e.jsx(xa,{className:"relative flex-1 rounded-full bg-border"})}));Fs.displayName=es.displayName;const B=ba,$=fa,T=o.forwardRef(({className:s,children:a,...r},t)=>e.jsxs(ss,{ref:t,className:f("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[a,e.jsx(ha,{asChild:!0,children:e.jsx(Te,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=ss.displayName;const As=o.forwardRef(({className:s,...a},r)=>e.jsx(as,{ref:r,className:f("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Ha,{className:"h-4 w-4"})}));As.displayName=as.displayName;const Ds=o.forwardRef(({className:s,...a},r)=>e.jsx(rs,{ref:r,className:f("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Te,{className:"h-4 w-4"})}));Ds.displayName=rs.displayName;const O=o.forwardRef(({className:s,children:a,position:r="popper",...t},n)=>e.jsx(ua,{children:e.jsxs(ts,{ref:n,className:f("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...t,children:[e.jsx(As,{}),e.jsx(ja,{className:f("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(Ds,{})]})}));O.displayName=ts.displayName;const Ir=o.forwardRef(({className:s,...a},r)=>e.jsx(is,{ref:r,className:f("px-2 py-1.5 text-sm font-semibold",s),...a}));Ir.displayName=is.displayName;const D=o.forwardRef(({className:s,children:a,...r},t)=>e.jsxs(ns,{ref:t,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(pa,{children:e.jsx(vs,{className:"h-4 w-4"})})}),e.jsx(ga,{children:a})]}));D.displayName=ns.displayName;const Tr=o.forwardRef(({className:s,...a},r)=>e.jsx(ls,{ref:r,className:f("-mx-1 my-1 h-px bg-muted",s),...a}));Tr.displayName=ls.displayName;const G=o.forwardRef(({className:s,orientation:a="horizontal",decorative:r=!0,...t},n)=>e.jsx(os,{ref:n,decorative:r,orientation:a,className:f("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...t}));G.displayName=os.displayName;const je=o.forwardRef(({className:s,...a},r)=>e.jsx("textarea",{className:f("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));je.displayName="Textarea";const Or=o.forwardRef(({className:s,...a},r)=>e.jsx(cs,{ref:r,className:f("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...a}));Or.displayName=cs.displayName;const Br=o.forwardRef(({className:s,...a},r)=>e.jsx(ds,{ref:r,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...a}));Br.displayName=ds.displayName;const $r=o.forwardRef(({className:s,...a},r)=>e.jsx(ms,{ref:r,className:f("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a}));$r.displayName=ms.displayName;const qr=o.forwardRef(({className:s,...a},r)=>e.jsx(xs,{ref:r,className:f("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:e.jsx(wa,{className:f("flex items-center justify-center text-current"),children:e.jsx(vs,{className:"h-4 w-4"})})}));qr.displayName=xs.displayName;var ye="Switch",[Ur,Di]=va(ye),[Mr,Vr]=Ur(ye),Is=o.forwardRef((s,a)=>{const{__scopeSwitch:r,name:t,checked:n,defaultChecked:i,required:l,disabled:c,value:w="on",onCheckedChange:h,form:u,...m}=s,[b,p]=o.useState(null),q=hs(a,ge=>p(ge)),A=o.useRef(!1),se=b?u||!!b.closest("form"):!0,[H,ia]=ya({prop:n,defaultProp:i??!1,onChange:h,caller:ye});return e.jsxs(Mr,{scope:r,checked:H,disabled:c,children:[e.jsx(us.button,{type:"button",role:"switch","aria-checked":H,"aria-required":l,"data-state":$s(H),"data-disabled":c?"":void 0,disabled:c,value:w,...m,ref:q,onClick:Na(s.onClick,ge=>{ia(na=>!na),se&&(A.current=ge.isPropagationStopped(),A.current||ge.stopPropagation())})}),se&&e.jsx(Bs,{control:b,bubbles:!A.current,name:t,value:w,checked:H,required:l,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});Is.displayName=ye;var Ts="SwitchThumb",Os=o.forwardRef((s,a)=>{const{__scopeSwitch:r,...t}=s,n=Vr(Ts,r);return e.jsx(us.span,{"data-state":$s(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:a})});Os.displayName=Ts;var Wr="SwitchBubbleInput",Bs=o.forwardRef(({__scopeSwitch:s,control:a,checked:r,bubbles:t=!0,...n},i)=>{const l=o.useRef(null),c=hs(l,i),w=ka(r),h=za(a);return o.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(w!==r&&p){const q=new Event("click",{bubbles:t});p.call(u,r),u.dispatchEvent(q)}},[w,r,t]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bs.displayName=Wr;function $s(s){return s?"checked":"unchecked"}var qs=Is,Kr=Os;const Zr=o.forwardRef(({className:s,...a},r)=>e.jsx(qs,{className:f("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:r,children:e.jsx(Kr,{className:f("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=qs.displayName;const Hr=o.forwardRef(({className:s,sideOffset:a=4,...r},t)=>e.jsx(_a,{children:e.jsx(js,{ref:t,sideOffset:a,className:f("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...r})}));Hr.displayName=js.displayName;const Qr=Ca,Us=o.forwardRef(({className:s,...a},r)=>e.jsx(ps,{ref:r,className:f("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a}));Us.displayName=ps.displayName;const Gr=o.forwardRef(({className:s,children:a,...r},t)=>e.jsxs(Qr,{children:[e.jsx(Us,{}),e.jsxs(gs,{ref:t,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[a,e.jsxs(Sa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gr.displayName=gs.displayName;const Yr=o.forwardRef(({className:s,...a},r)=>e.jsx(bs,{ref:r,className:f("text-lg font-semibold leading-none tracking-tight",s),...a}));Yr.displayName=bs.displayName;const Xr=o.forwardRef(({className:s,...a},r)=>e.jsx(fs,{ref:r,className:f("text-sm text-muted-foreground",s),...a}));Xr.displayName=fs.displayName;const Jr=o.forwardRef(({className:s,value:a,...r},t)=>e.jsx(ws,{ref:t,className:f("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...r,children:e.jsx(Ra,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));Jr.displayName=ws.displayName;const et=({onClose:s,brand:a="ScrapYard Manager"})=>{const{mutate:r}=Da(),{menuItems:t}=Ia(),{data:n}=ys();return e.jsxs("div",{className:"flex h-full w-64 flex-col border-r bg-background",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ks,{className:"h-6 w-6 mr-2"}),e.jsx("span",{className:"font-semibold",children:a})]}),s&&e.jsx(x,{variant:"ghost",size:"sm",onClick:s,className:"lg:hidden",children:e.jsx(Ns,{className:"h-4 w-4"})})]}),e.jsx(Ls,{className:"flex-1 px-3 py-4",children:e.jsx("nav",{className:"space-y-4",children:t.map(i=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Oe,{to:i.route??"/",className:({isActive:l})=>f("flex items-center justify-between rounded-md px-3 py-2 text-sm font-semibold transition-colors hover:bg-accent hover:text-accent-foreground",l?"bg-accent text-accent-foreground":"text-foreground"),onClick:s,children:[e.jsxs("span",{className:"flex items-center",children:[i.icon&&e.jsx("span",{className:"mr-3",children:i.icon}),i.label]}),i.children&&i.children.length>0&&e.jsx(Te,{className:"h-4 w-4 opacity-60"})]}),i.children&&i.children.length>0&&e.jsx("div",{className:"ml-3 border-l pl-3 space-y-1",children:i.children.map(l=>e.jsxs(Oe,{to:l.route??"/",className:({isActive:c})=>f("flex items-center rounded-md px-3 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground",c?"bg-accent text-accent-foreground":"text-muted-foreground"),onClick:s,children:[l.icon&&e.jsx("span",{className:"mr-3",children:l.icon}),l.label]},l.key))})]},i.key))})}),e.jsx(G,{}),e.jsxs("div",{className:"p-4 text-xs text-muted-foreground",children:["Zalogowano jako: ",e.jsx("span",{className:"font-medium",children:n?.email})]}),e.jsx("div",{className:"p-4",children:e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>{r(),s?.()},className:"w-full justify-start",children:[e.jsx(Qa,{className:"mr-2 h-4 w-4"})," Wyloguj"]})})]})},ne=({children:s,brand:a="ScrapYard Manager"})=>{const[r,t]=o.useState(!1);return e.jsx("div",{className:"min-h-screen bg-stone-200 relative overflow-x-hidden",children:e.jsxs("div",{className:"flex relative",children:[r&&e.jsx("div",{className:"fixed inset-0 z-40 bg-purple-900/20 backdrop-blur-sm lg:hidden",onClick:()=>t(!1)}),e.jsx("aside",{className:`h-screen w-64 transform transition-transform duration-300 ease-in-out fixed left-0 top-0 z-50 ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0 bg-background/95 backdrop-blur-md border-r border-purple-200/20`,children:e.jsx(et,{onClose:()=>t(!1),brand:a})}),e.jsxs("main",{className:"flex-1 lg:ml-64 min-w-0 relative z-10",children:[e.jsxs("div",{className:"sticky top-0 z-30 flex h-16 items-center border-b border-purple-200/20 bg-background/80 backdrop-blur-md px-4 lg:hidden",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>t(n=>!n),className:"mr-2 hover:bg-purple-100/20 hover:text-purple-700",children:e.jsx(ks,{className:"h-6 w-6"})}),e.jsx("span",{className:"font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:a})]}),s]})]})})},Ee=s=>{const a=(s??"").toLowerCase();if(a==="administrator"||a==="admin")return"administrator";if(a==="biuro")return"biuro";if(a==="logistyk")return"logistyk";if(a==="handlowiec")return"handlowiec";if(a==="operator")return"operator";if(a==="kierowca"||a==="kierowca_krotko"||a==="kierowca_dlugo")return"kierowca"},le=({expected:s,branchId:a,fallback:r=null,children:t})=>{const n=(Array.isArray(s)?s:[s]).map(Ee).filter(Boolean),{data:i,isLoading:l,isError:c}=Ta({resource:"v_user_effective_roles",pagination:{pageSize:200,current:1}});return l?e.jsx("div",{className:"p-6",children:"Ładowanie…"}):c?e.jsx("div",{className:"p-6 text-red-600",children:"Błąd ładowania ról."}):(i?.data??[]).some(u=>{const m=Ee(u.role);if(!m)return!1;const b=n.includes(m),p=a?u.branch_id===a||u.branch_id===null:!0;return b&&p})?e.jsx(e.Fragment,{children:t}):e.jsx(e.Fragment,{children:r})},st=s=>{const r=(Array.isArray(s)?s:[s]).map(Ee).filter(Boolean),t=["administrator","biuro","logistyk","handlowiec","operator","kierowca"],n={administrator:"/admin/dashboard/overview",biuro:"/biuro/dashboard/overview",logistyk:"/logistyk/dashboard/overview",handlowiec:"/handlowiec/dashboard/overview",operator:"/operator/dashboard/overview",kierowca:"/kierowca/dashboard/overview"},i=t.find(l=>r.includes(l));return i?n[i]:"/admin/dashboard/overview"},oe=({text:s,colorClass:a})=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`inline-block h-12 w-12 animate-spin rounded-full border-4 border-current border-r-transparent ${a}`}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:s})]})}),P=({children:s})=>e.jsx("div",{className:"p-2 md:p-12 space-y-6 max-w-7xl mx-auto",children:s}),at={card:{wrap:"space-y-0",title:"font-medium",description:"text-muted-foreground"},lg:{wrap:"space-y-0",title:"text-3xl font-bold tracking-tight",description:"text-muted-foreground"},md:{wrap:"space-y-0",title:"font-medium",description:"text-muted-foreground"},sm:{wrap:"space-y-1",title:"font-medium text-sm text-muted-foreground mb-1",description:"text-sm"}},C=({title:s,description:a,variant:r="lg"})=>{const t=at[r],n=()=>{switch(r){case"lg":return e.jsx("h1",{className:t.title,children:s});case"md":return e.jsx("h2",{className:t.title,children:s});case"sm":return e.jsx("h3",{className:t.title,children:s});default:return e.jsx("h1",{className:t.title,children:s})}};return r==="card"?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"text-lg font-semibold leading-tight flex items-center gap-2",children:s}),e.jsx(Es,{className:"text-sm text-muted-foreground mt-2",children:a})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.wrap,children:[n(),e.jsx("p",{className:`prose ${t.description}`,children:a})]})})},rt={"between-center":"flex justify-between items-center gap-2",center:"flex justify-center items-center gap-2",start:"flex justify-start items-center gap-2",end:"flex justify-end items-center gap-2"},y=({children:s,variant:a="between-center",className:r=""})=>{const t=rt[a],n=r?`${t} ${r}`:t;return e.jsx("div",{className:n,children:s})},tt={"1-2-3":"grid gap-6 md:grid-cols-2 lg:grid-cols-3","1-2-2":"grid gap-6 md:grid-cols-2","1-1-1":"grid gap-6","2-2-4":"grid gap-6 grid-cols-2 lg:grid-cols-4"},N=({children:s,variant:a="1-2-3",className:r=""})=>{const t=tt[a],n=r?`${t} ${r}`:t;return e.jsx("div",{className:n,children:s})},Ne=(s,a=[])=>{const{tableQuery:r}=M({resource:s,filters:a.length?{initial:a}:void 0,pagination:{current:1,pageSize:1}}),t=r.isLoading,n=typeof r.data?.total=="number"?r.data.total:void 0;return{loading:t,total:n}},ke=({label:s,value:a,loading:r})=>e.jsxs(k,{children:[e.jsx(z,{className:"pb-2",children:e.jsx(S,{className:"text-sm text-muted-foreground",children:s})}),e.jsx(_,{children:e.jsx("div",{className:"text-3xl font-bold",children:r?"…":a??"—"})})]}),it=({role:s,label:a,Icon:r})=>{const t=Ie();return e.jsxs(k,{className:"hover:shadow-md transition",children:[e.jsx(z,{className:"pb-2",children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5 opacity-70"}),a]})}),e.jsxs(_,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Szybkie wejście do modułu"}),e.jsxs(x,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t(st(s)),children:["Wejdź",e.jsx(me,{className:"ml-2 h-4 w-4"})]})]})]})},nt=()=>{const s=Ne("users"),a=Ne("branches"),r=Ne("tasks",[{field:"is_overdue_listed",operator:"eq",value:!0}]),t=[{role:"biuro",label:"Biuro",Icon:zs},{role:"logistyk",label:"Logistyk",Icon:re},{role:"handlowiec",label:"Handlowiec",Icon:J},{role:"operator",label:"Operator",Icon:_s},{role:"kierowca",label:"Kierowca",Icon:U}];return e.jsxs(P,{children:[e.jsx(y,{children:e.jsx(C,{title:"Dashboard – Administrator",description:"Podsumowanie i skróty"})}),e.jsxs(N,{children:[e.jsx(ke,{label:"Użytkownicy",value:s.total,loading:s.loading}),e.jsx(ke,{label:"Oddziały",value:a.total,loading:a.loading}),e.jsx(ke,{label:"Zadania overdue",value:r.total,loading:r.loading})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Skróty do modułów ról"}),e.jsx(N,{children:t.map(({role:n,label:i,Icon:l})=>e.jsx(it,{role:n,label:i,Icon:l},n))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dostęp zostanie ostatecznie zweryfikowany przez RoleGuard w danym module."})]})]})},pe=({current:s,pageSize:a,total:r,setCurrent:t,setPageSize:n,itemName:i="elementów",pageSizeOptions:l=[10,20,50]})=>{const c=Math.ceil(r/a),w=(s-1)*a+1,h=Math.min(s*a,r),u=s>1,m=s<c,b=()=>{const p=[];if(c<=5)for(let A=1;A<=c;A++)p.push(A);else{p.push(1),s>3&&p.push("...");const A=Math.max(2,s-1),se=Math.min(c-1,s+1);for(let H=A;H<=se;H++)p.push(H);s<c-2&&p.push("..."),p.push(c)}return p};return r===0?null:e.jsxs(y,{className:"mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Pokazuje ",w,"-",h," z ",r," ",i]}),e.jsxs(y,{className:"gap-2",children:[n&&e.jsxs(B,{value:a.toString(),onValueChange:p=>{n(parseInt(p)),t(1)},children:[e.jsx(T,{className:"w-[100px]",children:e.jsx($,{})}),e.jsx(O,{children:l.map(p=>e.jsxs(D,{value:p.toString(),children:[p," / str."]},p))})]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>t(s-1),disabled:!u,children:e.jsx(Ga,{className:"w-4 h-4"})}),e.jsx("div",{className:"hidden sm:flex gap-1",children:b().map((p,q)=>p==="..."?e.jsx("span",{className:"px-3 py-1 text-sm text-muted-foreground",children:"..."},`ellipsis-${q}`):e.jsx(x,{variant:s===p?"default":"outline",size:"sm",onClick:()=>t(p),className:"min-w-[40px]",children:p},p))}),e.jsxs("div",{className:"flex sm:hidden items-center px-3 text-sm",children:[s," / ",c]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>t(s+1),disabled:!m,children:e.jsx(Se,{className:"w-4 h-4"})})]})]})},Ms=()=>{const{tableQuery:{data:s,isLoading:a,isError:r},current:t,setCurrent:n,pageSize:i,setFilters:l}=M({resource:"tasks",sorters:{initial:[{field:"start_at",order:"desc"}]}}),{create:c,edit:w,show:h}=R(),u=F({isLoading:a,isError:r});return u||e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(C,{title:"Zadania",description:"Lista zadań (kalendarz/plan)"}),e.jsxs(x,{onClick:()=>c("tasks"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Dodaj zadanie"]})]}),e.jsx(y,{children:e.jsx(g,{placeholder:"Szukaj po tytule...",className:"max-w-sm",onChange:m=>l([{field:"title",operator:"contains",value:m.target.value}])})}),e.jsx(N,{children:s?.data?.map(m=>e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(C,{title:m.title,description:`Oddział #${m.branch_id} • ${new Date(m.start_at).toLocaleString()}`,variant:"card"})}),e.jsx(_,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(v,{variant:"secondary",children:m.type}),e.jsx(v,{variant:"outline",children:m.status}),m.assigned_vehicle_id&&e.jsxs(v,{variant:"outline",className:"text-xs",children:["pojazd #",m.assigned_vehicle_id]}),m.assigned_container_id&&e.jsxs(v,{variant:"outline",className:"text-xs",children:["kontener #",m.assigned_container_id]})]})}),e.jsx(ee,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>h("tasks",m.id),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>w("tasks",m.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},m.id))}),e.jsx(pe,{current:t,pageSize:i,total:s?.total||0,setCurrent:n,itemName:"zadania"})]})},K=({children:s,onSubmit:a,className:r="",...t})=>{const n="space-y-6",i=r?`${n} ${r}`:n;return e.jsx("form",{onSubmit:a,className:i,...t,children:s})},j=({children:s,label:a,htmlFor:r,error:t,required:n=!1,className:i="",hint:l})=>{const c="space-y-2",w=i?`${c} ${i}`:c,h=()=>a?typeof a=="string"?e.jsxs(Pe,{htmlFor:r,children:[a,n&&e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}):e.jsxs(Pe,{htmlFor:r,className:"flex items-center",children:[a,n&&e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}):null,u=o.isValidElement(s)?o.cloneElement(s,{className:`${s.props.className||""} ${t?"border-red-500 ring-1 ring-red-500":""}`.trim()}):s;return e.jsxs("div",{className:w,children:[h(),u,l&&!t&&e.jsx("p",{className:"text-sm text-muted-foreground",children:l}),t&&e.jsx("p",{className:"text-sm text-red-500",children:t})]})},Z=({children:s,className:a=""})=>{const r="flex justify-end items-center gap-4 pt-6 border-t",t=a?`${r} ${a}`:r;return e.jsx("div",{className:t,children:s})},lt=["transport","plac"],ot=["nowe","w_realizacji","zakonczone","anulowane"],Vs=()=>{const{list:s}=R(),{data:a}=ys(),{refineCore:{onFinish:r},register:t,handleSubmit:n,setValue:i,formState:{errors:l,isSubmitting:c}}=V({refineCoreProps:{resource:"tasks"}}),w=h=>r({...h,created_by:a?.id});return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("tasks"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsx(y,{children:e.jsx(C,{title:"Nowe zadanie",description:"Utwórz nowe zadanie"})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(w),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Tytuł",htmlFor:"title",error:l.title?.message,required:!0,children:e.jsx(g,{id:"title",...t("title",{required:"Wymagane"})})}),e.jsx(j,{label:"Typ",error:l.type?.message,required:!0,children:e.jsxs(B,{onValueChange:h=>i("type",h),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz typ"})}),e.jsx(O,{children:lt.map(h=>e.jsx(D,{value:h,children:h},h))})]})})]}),e.jsx(j,{label:"Opis",children:e.jsx(je,{rows:3,...t("description")})}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",required:!0,children:e.jsx(g,{id:"branch_id",type:"number",...t("branch_id",{required:"Wymagane",valueAsNumber:!0})})}),e.jsx(j,{label:"Status",required:!0,children:e.jsxs(B,{defaultValue:"nowe",onValueChange:h=>i("status",h),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz status"})}),e.jsx(O,{children:ot.map(h=>e.jsx(D,{value:h,children:h},h))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Start (start_at)",htmlFor:"start_at",required:!0,children:e.jsx(g,{id:"start_at",type:"datetime-local",...t("start_at",{required:"Wymagane"})})}),e.jsx(j,{label:"Koniec (end_at)",htmlFor:"end_at",children:e.jsx(g,{id:"end_at",type:"datetime-local",...t("end_at")})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Kierowca (UUID)",htmlFor:"assigned_driver",children:e.jsx(g,{id:"assigned_driver",...t("assigned_driver")})}),e.jsx(j,{label:"Pojazd (assigned_vehicle_id)",htmlFor:"assigned_vehicle_id",children:e.jsx(g,{id:"assigned_vehicle_id",type:"number",...t("assigned_vehicle_id",{valueAsNumber:!0})})}),e.jsx(j,{label:"Kontener (assigned_container_id)",htmlFor:"assigned_container_id",children:e.jsx(g,{id:"assigned_container_id",type:"number",...t("assigned_container_id",{valueAsNumber:!0})})})]}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("tasks"),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:c||!a?.id,children:c?"Tworzenie...":"Utwórz"})]})]})})]})]})},ct=["transport","plac"],dt=["nowe","w_realizacji","zakonczone","anulowane"],Ws=()=>{const{show:s}=R(),{refineCore:{onFinish:a,queryResult:r},register:t,handleSubmit:n,setValue:i,formState:{errors:l,isSubmitting:c}}=V({refineCoreProps:{resource:"tasks",action:"edit"}}),w=r?.isLoading??!0,h=r?.isError??!1,u=r?.data?.data,m=F({isLoading:w,isError:h});return m||(u?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("tasks",u.id),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do szczegółów"]}),e.jsx(y,{children:e.jsx(C,{title:"Edycja zadania",description:`ID: #${String(u.id).slice(0,8)}`})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Tytuł",htmlFor:"title",error:l.title?.message,required:!0,children:e.jsx(g,{id:"title",...t("title",{required:"Wymagane"})})}),e.jsx(j,{label:"Typ",required:!0,children:e.jsxs(B,{defaultValue:u.type,onValueChange:b=>i("type",b),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz typ"})}),e.jsx(O,{children:ct.map(b=>e.jsx(D,{value:b,children:b},b))})]})})]}),e.jsx(j,{label:"Opis",children:e.jsx(je,{rows:3,...t("description")})}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",required:!0,children:e.jsx(g,{id:"branch_id",type:"number",...t("branch_id",{required:"Wymagane",valueAsNumber:!0})})}),e.jsx(j,{label:"Status",required:!0,children:e.jsxs(B,{defaultValue:u.status,onValueChange:b=>i("status",b),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz status"})}),e.jsx(O,{children:dt.map(b=>e.jsx(D,{value:b,children:b},b))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Start (start_at)",htmlFor:"start_at",required:!0,children:e.jsx(g,{id:"start_at",type:"datetime-local",...t("start_at",{required:"Wymagane"})})}),e.jsx(j,{label:"Koniec (end_at)",htmlFor:"end_at",children:e.jsx(g,{id:"end_at",type:"datetime-local",...t("end_at")})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Kierowca (UUID)",children:e.jsx(g,{...t("assigned_driver")})}),e.jsx(j,{label:"Pojazd (assigned_vehicle_id)",children:e.jsx(g,{type:"number",...t("assigned_vehicle_id",{valueAsNumber:!0})})}),e.jsx(j,{label:"Kontener (assigned_container_id)",children:e.jsx(g,{type:"number",...t("assigned_container_id",{valueAsNumber:!0})})})]}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("tasks",u.id),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:c,children:c?"Zapisywanie...":"Zapisz"})]})]})})]})]}):null)},Ks=()=>{const{queryResult:s}=xe({resource:"tasks"}),{list:a,edit:r}=R(),t=s?.isLoading??!0,n=s?.isError??!1,i=s?.data?.data,l=F({isLoading:t,isError:n});return l||(i?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>a("tasks"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsxs(y,{children:[e.jsx(C,{title:i.title,description:`ID: #${String(i.id).slice(0,8)}`}),e.jsxs(x,{variant:"outline",onClick:()=>r("tasks",i.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edytuj"]})]}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Szczegóły"})}),e.jsxs(_,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"secondary",children:i.type}),e.jsx(v,{variant:"outline",children:i.status})]}),e.jsx(G,{}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Oddział:"})," ",i.branch_id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Start:"})," ",new Date(i.start_at).toLocaleString()]}),i.end_at&&e.jsxs("div",{children:[e.jsx("b",{children:"Koniec:"})," ",new Date(i.end_at).toLocaleString()]}),i.assigned_driver&&e.jsxs("div",{children:[e.jsx("b",{children:"Kierowca (UUID):"})," ",i.assigned_driver]}),i.assigned_vehicle_id&&e.jsxs("div",{children:[e.jsx("b",{children:"Pojazd:"})," #",i.assigned_vehicle_id]}),i.assigned_container_id&&e.jsxs("div",{children:[e.jsx("b",{children:"Kontener:"})," #",i.assigned_container_id]})]})]})]})]}):null)},Le={name:"tasks",list:"/admin/tasks",create:"/admin/tasks/create",edit:"/admin/tasks/edit/:id",show:"/admin/tasks/show/:id",meta:{label:"Zadania"}},Zs=[e.jsx(d,{index:!0,element:e.jsx(Ms,{})},"tasks-index"),e.jsx(d,{path:"create",element:e.jsx(Vs,{})},"tasks-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(Ws,{})},"tasks-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(Ks,{})},"tasks-show")],Hs=()=>{const{tableQuery:{data:s,isLoading:a,isError:r},current:t,setCurrent:n,pageSize:i,setFilters:l}=M({resource:"vehicles",sorters:{initial:[{field:"created_at",order:"desc"}]}}),{create:c,edit:w,show:h}=R(),u=F({isLoading:a,isError:r});return u||e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(C,{title:"Flota",description:"Pojazdy w systemie"}),e.jsxs(x,{onClick:()=>c("vehicles"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"})," Dodaj pojazd"]})]}),e.jsx(y,{children:e.jsx(g,{placeholder:"Szukaj po nazwie...",className:"max-w-sm",onChange:m=>l([{field:"name",operator:"contains",value:m.target.value}])})}),e.jsx(N,{children:s?.data?.map(m=>e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(C,{title:m.name,description:`Oddział #${m.branch_id}`,variant:"card"})}),e.jsx(_,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(v,{variant:"secondary",children:m.type}),m.reg_plate&&e.jsx(v,{variant:"outline",children:m.reg_plate}),m.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]})}),e.jsx(ee,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>h("vehicles",m.id),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>w("vehicles",m.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},m.id))}),e.jsx(pe,{current:t,pageSize:i,total:s?.total||0,setCurrent:n,itemName:"pojazdy"})]})},mt=["ciezarowe","osobowe","przyczepa","naczepa"],Qs=()=>{const{list:s}=R(),{refineCore:{onFinish:a},register:r,handleSubmit:t,setValue:n,formState:{errors:i,isSubmitting:l}}=V({refineCoreProps:{resource:"vehicles"}});return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("vehicles"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsx(y,{children:e.jsx(C,{title:"Nowy pojazd",description:"Dodaj pojazd"})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:t(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:i.name?.message,required:!0,children:e.jsx(g,{id:"name",...r("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Typ",required:!0,children:e.jsxs(B,{onValueChange:c=>n("type",c),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz typ"})}),e.jsx(O,{children:mt.map(c=>e.jsx(D,{value:c,children:c},c))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",required:!0,children:e.jsx(g,{id:"branch_id",type:"number",...r("branch_id",{required:"Wymagane",valueAsNumber:!0})})}),e.jsx(j,{label:"Tablica rejestracyjna",htmlFor:"reg_plate",children:e.jsx(g,{id:"reg_plate",...r("reg_plate")})})]}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("vehicles"),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:l,children:l?"Tworzenie...":"Utwórz"})]})]})})]})]})},xt=["ciezarowe","osobowe","przyczepa","naczepa"],Gs=()=>{const{show:s}=R(),{refineCore:{onFinish:a,queryResult:r},register:t,handleSubmit:n,setValue:i,formState:{errors:l,isSubmitting:c}}=V({refineCoreProps:{resource:"vehicles",action:"edit"}}),w=r?.isLoading??!0,h=r?.isError??!1,u=r?.data?.data,m=F({isLoading:w,isError:h});return m||(u?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("vehicles",u.id),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do szczegółów"]}),e.jsx(y,{children:e.jsx(C,{title:"Edycja pojazdu",description:`ID: #${String(u.id).slice(0,8)}`})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:l.name?.message,required:!0,children:e.jsx(g,{id:"name",...t("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Typ",required:!0,children:e.jsxs(B,{defaultValue:u.type,onValueChange:b=>i("type",b),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz typ"})}),e.jsx(O,{children:xt.map(b=>e.jsx(D,{value:b,children:b},b))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",required:!0,children:e.jsx(g,{id:"branch_id",type:"number",...t("branch_id",{required:"Wymagane",valueAsNumber:!0})})}),e.jsx(j,{label:"Tablica rejestracyjna",htmlFor:"reg_plate",children:e.jsx(g,{id:"reg_plate",...t("reg_plate")})})]}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("vehicles",u.id),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:c,children:c?"Zapisywanie...":"Zapisz"})]})]})})]})]}):null)},Ys=()=>{const{queryResult:s}=xe({resource:"vehicles"}),{list:a,edit:r}=R(),t=s?.isLoading??!0,n=s?.isError??!1,i=s?.data?.data,l=F({isLoading:t,isError:n});return l||(i?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>a("vehicles"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsxs(y,{children:[e.jsx(C,{title:i.name,description:`ID: #${i.id}`}),e.jsxs(x,{variant:"outline",onClick:()=>r("vehicles",i.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edytuj"]})]}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Szczegóły"})}),e.jsxs(_,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"secondary",children:i.type}),i.reg_plate&&e.jsx(v,{variant:"outline",children:i.reg_plate}),i.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]}),e.jsx(G,{}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Oddział:"})," ",i.branch_id]}),i.vin&&e.jsxs("div",{children:[e.jsx("b",{children:"VIN:"})," ",i.vin]})]})]})]})]}):null)},Fe={name:"vehicles",list:"/admin/vehicles",create:"/admin/vehicles/create",edit:"/admin/vehicles/edit/:id",show:"/admin/vehicles/show/:id",meta:{label:"Flota"}},Xs=[e.jsx(d,{index:!0,element:e.jsx(Hs,{})},"vehicles-index"),e.jsx(d,{path:"create",element:e.jsx(Qs,{})},"vehicles-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(Gs,{})},"vehicles-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(Ys,{})},"vehicles-show")],ht=()=>{const{tableQuery:{data:s,isLoading:a,isError:r},current:t,setCurrent:n,pageSize:i,setFilters:l}=M({resource:"branches",sorters:{initial:[{field:"created_at",order:"desc"}]}}),{create:c,edit:w,show:h}=R(),u=F({isLoading:a,isError:r});return u||e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(C,{title:"Oddziały",description:"Lista placówek"}),e.jsxs(x,{onClick:()=>c("branches"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"})," Dodaj oddział"]})]}),e.jsx(y,{children:e.jsx(g,{placeholder:"Szukaj po nazwie...",className:"max-w-sm",onChange:m=>l([{field:"name",operator:"contains",value:m.target.value}])})}),e.jsx(N,{children:s?.data?.map(m=>e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(C,{title:m.name,description:m.city||"—",variant:"card"})}),e.jsx(_,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsxs(v,{variant:"outline",children:["ID #",m.id]}),m.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]})}),e.jsx(ee,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>h("branches",m.id),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>w("branches",m.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},m.id))}),e.jsx(pe,{current:t,pageSize:i,total:s?.total||0,setCurrent:n,itemName:"oddziały"})]})},ut=()=>{const{list:s}=R(),{refineCore:{onFinish:a},register:r,handleSubmit:t,formState:{errors:n,isSubmitting:i}}=V({refineCoreProps:{resource:"branches"}});return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("branches"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsx(y,{children:e.jsx(C,{title:"Nowy oddział",description:"Dodaj placówkę"})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:t(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:n.name?.message,required:!0,children:e.jsx(g,{id:"name",...r("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Miasto",htmlFor:"city",children:e.jsx(g,{id:"city",...r("city")})})]}),e.jsx(j,{label:"Archiwum",children:e.jsx("input",{type:"checkbox",...r("is_archived")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("branches"),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:i,children:i?"Tworzenie...":"Utwórz"})]})]})})]})]})},jt=()=>{const{show:s}=R(),{refineCore:{onFinish:a,queryResult:r},register:t,handleSubmit:n,formState:{errors:i,isSubmitting:l}}=V({refineCoreProps:{resource:"branches",action:"edit"}}),c=r?.isLoading??!0,w=r?.isError??!1,h=r?.data?.data,u=F({isLoading:c,isError:w});return u||(h?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("branches",h.id),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do szczegółów"]}),e.jsx(y,{children:e.jsx(C,{title:"Edycja oddziału",description:`ID: #${h.id}`})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:i.name?.message,required:!0,children:e.jsx(g,{id:"name",...t("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Miasto",htmlFor:"city",children:e.jsx(g,{id:"city",...t("city")})})]}),e.jsx(j,{label:"Archiwum",children:e.jsx("input",{type:"checkbox",...t("is_archived")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("branches",h.id),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:l,children:l?"Zapisywanie...":"Zapisz"})]})]})})]})]}):null)},pt=()=>{const{queryResult:s}=xe({resource:"branches"}),{list:a,edit:r}=R(),t=s?.isLoading??!0,n=s?.isError??!1,i=s?.data?.data,l=F({isLoading:t,isError:n});return l||(i?e.jsxs(e.Fragment,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>a("branches"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsxs(y,{children:[e.jsx(C,{title:i.name,description:`ID: #${i.id}`}),e.jsxs(x,{variant:"outline",onClick:()=>r("branches",i.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edytuj"]})]}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Szczegóły"})}),e.jsxs(_,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[i.city&&e.jsx(v,{variant:"outline",children:i.city}),i.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]}),e.jsx(G,{}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Utworzono:"})," ",new Date(i.created_at).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("b",{children:"Aktualizacja:"})," ",new Date(i.updated_at).toLocaleString()]})]})]})]})]}):null)},We={name:"branches",list:"/admin/branches",create:"/admin/branches/create",edit:"/admin/branches/edit/:id",show:"/admin/branches/show/:id",meta:{label:"Oddziały"}},gt=[e.jsx(d,{index:!0,element:e.jsx(ht,{})},"branches-index"),e.jsx(d,{path:"create",element:e.jsx(ut,{})},"branches-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(jt,{})},"branches-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(pt,{})},"branches-show")],bt=["zakupy","sprzedaz","firmy_transportowe","inne"],Ke="__clear__",Js=()=>{const{tableQuery:{data:s,isLoading:a,isError:r},current:t,setCurrent:n,pageSize:i,setFilters:l}=M({resource:"clients",sorters:{initial:[{field:"created_at",order:"desc"}]}}),{create:c,edit:w,show:h}=R(),u=F({isLoading:a,isError:r});if(u)return u;const m=p=>l(q=>[...(q||[]).filter(A=>A.field!=="name"),{field:"name",operator:"contains",value:p}]),b=p=>l(q=>{const A=(q||[]).filter(se=>se.field!=="section");return p?[...A,{field:"section",operator:"eq",value:p}]:A});return e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(C,{title:"Klienci",description:"Baza klientów"}),e.jsxs(x,{onClick:()=>c("clients"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"})," Dodaj klienta"]})]}),e.jsxs(y,{className:"gap-3",children:[e.jsx(g,{placeholder:"Szukaj po nazwie...",className:"max-w-sm",onChange:p=>m(p.target.value)}),e.jsxs(B,{onValueChange:p=>b(p===Ke?void 0:p),children:[e.jsx(T,{className:"w-56",children:e.jsx($,{placeholder:"Filtr: sekcja (opcjonalnie)"})}),e.jsxs(O,{children:[bt.map(p=>e.jsx(D,{value:p,children:p},p)),e.jsx(D,{value:Ke,children:"Wyczyść filtr"})]})]})]}),e.jsx(N,{children:s?.data?.map(p=>e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(C,{title:p.name,description:p.email||p.phone||p.website||"—",variant:"card"})}),e.jsx(_,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsxs(v,{variant:"outline",children:["ID #",p.id]}),p.section&&e.jsx(v,{variant:"secondary",children:p.section}),p.category&&e.jsx(v,{variant:"outline",children:p.category}),p.branch_id&&e.jsxs(v,{variant:"outline",children:["oddział #",p.branch_id]}),p.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]})}),e.jsx(ee,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>h("clients",p.id),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>w("clients",p.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},p.id))}),e.jsx(pe,{current:t,pageSize:i,total:s?.total||0,setCurrent:n,itemName:"klienci"})]})},ft=["zakupy","sprzedaz","firmy_transportowe","inne"],ea=()=>{const{list:s}=R(),{refineCore:{onFinish:a},register:r,handleSubmit:t,setValue:n,formState:{errors:i,isSubmitting:l}}=V({refineCoreProps:{resource:"clients"}});return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("clients"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsx(y,{children:e.jsx(C,{title:"Nowy klient",description:"Dodaj klienta"})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:t(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:i.name?.message,required:!0,children:e.jsx(g,{id:"name",...r("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Sekcja",required:!0,children:e.jsxs(B,{onValueChange:c=>n("section",c),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz sekcję"})}),e.jsx(O,{children:ft.map(c=>e.jsx(D,{value:c,children:c},c))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Kategoria",htmlFor:"category",children:e.jsx(g,{id:"category",...r("category")})}),e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",children:e.jsx(g,{id:"branch_id",type:"number",...r("branch_id",{valueAsNumber:!0})})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Telefon",htmlFor:"phone",children:e.jsx(g,{id:"phone",...r("phone")})}),e.jsx(j,{label:"Email",htmlFor:"email",children:e.jsx(g,{id:"email",type:"email",...r("email")})}),e.jsx(j,{label:"WWW",htmlFor:"website",children:e.jsx(g,{id:"website",type:"url",...r("website")})})]}),e.jsx(j,{label:"Opis",children:e.jsx(je,{rows:3,...r("description")})}),e.jsx(j,{label:"Archiwum",children:e.jsx("input",{type:"checkbox",...r("is_archived")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("clients"),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:l,children:l?"Tworzenie...":"Utwórz"})]})]})})]})]})},wt=["zakupy","sprzedaz","firmy_transportowe","inne"],sa=()=>{const{show:s}=R(),{refineCore:{onFinish:a,queryResult:r},register:t,handleSubmit:n,setValue:i,formState:{errors:l,isSubmitting:c}}=V({refineCoreProps:{resource:"clients",action:"edit"}}),w=r?.isLoading??!0,h=r?.isError??!1,u=r?.data?.data,m=F({isLoading:w,isError:h});return m||(u?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("clients",u.id),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do szczegółów"]}),e.jsx(y,{children:e.jsx(C,{title:"Edycja klienta",description:`ID: #${u.id}`})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Parametry"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(a),children:[e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Nazwa",htmlFor:"name",error:l.name?.message,required:!0,children:e.jsx(g,{id:"name",...t("name",{required:"Wymagane"})})}),e.jsx(j,{label:"Sekcja",required:!0,children:e.jsxs(B,{defaultValue:u.section,onValueChange:b=>i("section",b),children:[e.jsx(T,{children:e.jsx($,{placeholder:"Wybierz sekcję"})}),e.jsx(O,{children:wt.map(b=>e.jsx(D,{value:b,children:b},b))})]})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Kategoria",htmlFor:"category",children:e.jsx(g,{id:"category",...t("category")})}),e.jsx(j,{label:"Oddział (branch_id)",htmlFor:"branch_id",children:e.jsx(g,{id:"branch_id",type:"number",...t("branch_id",{valueAsNumber:!0})})})]}),e.jsxs(N,{variant:"1-2-2",children:[e.jsx(j,{label:"Telefon",htmlFor:"phone",children:e.jsx(g,{id:"phone",...t("phone")})}),e.jsx(j,{label:"Email",htmlFor:"email",children:e.jsx(g,{id:"email",type:"email",...t("email")})}),e.jsx(j,{label:"WWW",htmlFor:"website",children:e.jsx(g,{id:"website",type:"url",...t("website")})})]}),e.jsx(j,{label:"Opis",children:e.jsx(je,{rows:3,...t("description")})}),e.jsx(j,{label:"Archiwum",children:e.jsx("input",{type:"checkbox",...t("is_archived")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("clients",u.id),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:c,children:c?"Zapisywanie...":"Zapisz"})]})]})})]})]}):null)},aa=()=>{const{queryResult:s}=xe({resource:"clients"}),{list:a,edit:r}=R(),t=s?.isLoading??!0,n=s?.isError??!1,i=s?.data?.data,l=F({isLoading:t,isError:n});return l||(i?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>a("clients"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsxs(y,{children:[e.jsx(C,{title:i.name,description:`ID: #${i.id}`}),e.jsxs(x,{variant:"outline",onClick:()=>r("clients",i.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edytuj"]})]}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Szczegóły"})}),e.jsxs(_,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[i.section&&e.jsx(v,{variant:"secondary",children:i.section}),i.category&&e.jsx(v,{variant:"outline",children:i.category}),i.branch_id&&e.jsxs(v,{variant:"outline",children:["oddział #",i.branch_id]}),i.is_archived&&e.jsx(v,{variant:"destructive",children:"archiwum"})]}),e.jsx(G,{}),e.jsxs("div",{className:"text-sm space-y-1",children:[i.phone&&e.jsxs("div",{children:[e.jsx("b",{children:"Telefon:"})," ",i.phone]}),i.email&&e.jsxs("div",{children:[e.jsx("b",{children:"Email:"})," ",i.email]}),i.website&&e.jsxs("div",{children:[e.jsx("b",{children:"WWW:"})," ",i.website]}),i.description&&e.jsxs("div",{children:[e.jsx("b",{children:"Opis:"})," ",i.description]}),i.account_owner&&e.jsxs("div",{children:[e.jsx("b",{children:"Opiekun (UUID):"})," ",i.account_owner]}),e.jsxs("div",{children:[e.jsx("b",{children:"Utworzono:"})," ",new Date(i.created_at).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("b",{children:"Aktualizacja:"})," ",new Date(i.updated_at).toLocaleString()]})]})]})]})]}):null)},Ae={name:"clients",list:"/admin/clients",create:"/admin/clients/create",edit:"/admin/clients/edit/:id",show:"/admin/clients/show/:id",meta:{label:"Klienci"}},ra=[e.jsx(d,{index:!0,element:e.jsx(Js,{})},"clients-index"),e.jsx(d,{path:"create",element:e.jsx(ea,{})},"clients-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(sa,{})},"clients-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(aa,{})},"clients-show")],yt=()=>{const{tableQuery:{data:s,isLoading:a,isError:r},current:t,setCurrent:n,pageSize:i,setFilters:l}=M({resource:"users",sorters:{initial:[{field:"created_at",order:"desc"}]}}),{create:c,edit:w,show:h}=R(),u=F({isLoading:a,isError:r});return u||e.jsxs(P,{children:[e.jsxs(y,{children:[e.jsx(C,{title:"Użytkownicy",description:"Konta i role"}),e.jsxs(x,{onClick:()=>c("users"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"})," Dodaj użytkownika"]})]}),e.jsx(y,{children:e.jsx(g,{placeholder:"Szukaj po e-mailu lub nazwie…",className:"max-w-sm",onChange:m=>l([{field:"email",operator:"contains",value:m.target.value}])})}),e.jsx(N,{children:s?.data?.map(m=>e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(C,{title:m.full_name,description:m.email,variant:"card"})}),e.jsx(_,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[m.role&&e.jsx(v,{variant:"secondary",children:m.role}),m.branch_id&&e.jsxs(v,{variant:"outline",children:["oddział #",m.branch_id]}),m.branch_name&&e.jsx(v,{variant:"outline",children:m.branch_name})]})}),e.jsx(ee,{children:e.jsxs(y,{variant:"start",className:"gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>h("users",m.id),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>w("users",m.id),children:e.jsx(W,{className:"w-4 h-4"})})]})})]},m.id))}),e.jsx(pe,{current:t,pageSize:i,total:s?.total||0,setCurrent:n,itemName:"użytkownicy"})]})},vt=()=>{const{list:s}=R(),{refineCore:{onFinish:a},register:r,handleSubmit:t,formState:{errors:n,isSubmitting:i}}=V({refineCoreProps:{resource:"users"}});return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("users"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsx(y,{children:e.jsx(C,{title:"Nowy użytkownik",description:"Załóż konto (role dodasz po zapisaniu)"})}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Dane podstawowe"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:t(a),children:[e.jsx(j,{label:"E-mail",htmlFor:"email",error:n.email?.message,required:!0,children:e.jsx(g,{id:"email",type:"email",...r("email",{required:"Wymagane"})})}),e.jsx(j,{label:"Imię i nazwisko",htmlFor:"full_name",children:e.jsx(g,{id:"full_name",...r("full_name")})}),e.jsx(j,{label:"Telefon",htmlFor:"phone",children:e.jsx(g,{id:"phone",...r("phone")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("users"),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:i,children:i?"Tworzenie...":"Utwórz"})]})]})})]})]})},Nt=["administrator","biuro","logistyk","handlowiec","kierowca_krotko","kierowca_dlugo","operator"],kt=({userId:s})=>{const{tableQuery:a}=M({resource:"user_roles",filters:{permanent:[{field:"user_id",operator:"eq",value:s}]},pagination:{current:1,pageSize:100},sorters:{initial:[{field:"assigned_at",order:"desc"}]}}),{mutate:r,isLoading:t}=Oa(),{mutate:n}=Ba(),[i,l]=o.useState(),[c,w]=o.useState(""),h=a.data?.data??[],u=o.useMemo(()=>!!i,[i]),m=()=>{i&&r({resource:"user_roles",values:{user_id:s,role:i,branch_id:c?Number(c):null},invalidates:["list","many","detail"]})};return e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Role użytkownika"})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.map(b=>e.jsxs("div",{className:"flex items-center gap-2 border rounded-xl px-2 py-1",children:[e.jsx(v,{variant:b.branch_id?"secondary":"outline",children:b.role}),b.branch_id&&e.jsxs(v,{variant:"outline",children:["oddział #",b.branch_id]}),e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>n({resource:"user_roles",id:b.id,invalidates:["list","many","detail"]}),children:e.jsx(Ya,{className:"w-4 h-4"})})]},b.id)),!h.length&&e.jsx("span",{className:"text-muted-foreground text-sm",children:"Brak ról"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsxs(B,{onValueChange:l,children:[e.jsx(T,{className:"w-56",children:e.jsx($,{placeholder:"Wybierz rolę"})}),e.jsx(O,{children:Nt.map(b=>e.jsx(D,{value:b,children:b},b))})]}),e.jsx(g,{type:"number",placeholder:"Oddział (opcjonalnie, puste = global)",value:c,onChange:b=>w(b.target.value),className:"w-64"}),e.jsxs(x,{onClick:m,disabled:!u||t,children:[e.jsx(te,{className:"w-4 h-4 mr-2"})," Dodaj"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["• Rola z ",e.jsx("i",{children:"pustym"})," oddziałem działa globalnie. • Można łączyć wiele ról (różne oddziały). • Administrator ma pełny dostęp."]})]})]})},zt=()=>{const{show:s}=R(),{refineCore:{onFinish:a,queryResult:r},register:t,handleSubmit:n,formState:{errors:i,isSubmitting:l}}=V({refineCoreProps:{resource:"users",action:"edit"}}),c=r?.isLoading??!0,w=r?.isError??!1,h=r?.data?.data,u=F({isLoading:c,isError:w});return u||(h?e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>s("users",h.id),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do szczegółów"]}),e.jsx(y,{children:e.jsx(C,{title:"Edycja użytkownika",description:h.email})}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Dane podstawowe"})}),e.jsx(_,{children:e.jsxs(K,{onSubmit:n(a),children:[e.jsx(j,{label:"Imię i nazwisko",htmlFor:"full_name",children:e.jsx(g,{id:"full_name",...t("full_name")})}),e.jsx(j,{label:"Telefon",htmlFor:"phone",children:e.jsx(g,{id:"phone",...t("phone")})}),e.jsxs(Z,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>s("users",h.id),children:"Anuluj"}),e.jsx(x,{type:"submit",disabled:l,children:l?"Zapisywanie...":"Zapisz"})]})]})})]}),e.jsx(kt,{userId:h.id})]})]}):null)},_t=()=>{const{queryResult:s}=xe({resource:"users"}),{list:a,edit:r}=R(),t=s?.isLoading??!0,n=s?.isError??!1,i=s?.data?.data,l=M({resource:"v_user_effective_roles",filters:{permanent:i?[{field:"user_id",operator:"eq",value:i.id}]:[]},pagination:{current:1,pageSize:100}}),c=F({isLoading:t,isError:n});if(c)return c;if(!i)return null;const w=l.tableQuery.data?.data??[];return e.jsxs(P,{children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>a("users"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," Powrót do listy"]}),e.jsxs(y,{children:[e.jsx(C,{title:i.full_name||i.email,description:i.email}),e.jsxs(x,{variant:"outline",onClick:()=>r("users",i.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edytuj"]})]}),e.jsxs(k,{children:[e.jsx(z,{children:e.jsx(S,{children:"Szczegóły"})}),e.jsxs(_,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[i.role&&e.jsxs(v,{variant:"secondary",children:["domyślna: ",i.role]}),i.branch_name&&e.jsx(v,{variant:"outline",children:i.branch_name}),i.branch_id&&e.jsxs(v,{variant:"outline",children:["oddział #",i.branch_id]})]}),e.jsx(G,{}),e.jsxs("div",{className:"text-sm space-y-1",children:[i.phone&&e.jsxs("div",{children:[e.jsx("b",{children:"Telefon:"})," ",i.phone]}),e.jsxs("div",{children:[e.jsx("b",{children:"Utworzono:"})," ",new Date(i.created_at).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("b",{children:"Aktualizacja:"})," ",new Date(i.updated_at).toLocaleString()]})]})]})]}),e.jsxs(k,{className:"mt-4",children:[e.jsx(z,{children:e.jsx(S,{children:"Wszystkie role (widok v_user_effective_roles)"})}),e.jsx(_,{className:"flex flex-wrap gap-2",children:w.length?w.map(h=>e.jsxs(v,{variant:h.branch_id?"secondary":"outline",children:[h.role,h.branch_id?` @#${h.branch_id}`:" (global)"]},`${h.role}-${h.branch_id??"global"}`)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Brak"})})]})]})},Ze={name:"users",list:"/admin/users",create:"/admin/users/create",edit:"/admin/users/edit/:id",show:"/admin/users/show/:id",meta:{label:"Użytkownicy"}},Ct=[e.jsx(d,{index:!0,element:e.jsx(yt,{})},"users-index"),e.jsx(d,{path:"create",element:e.jsx(vt,{})},"users-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(zt,{})},"users-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(_t,{})},"users-show")],St=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(nt,{})}),e.jsx(d,{path:"users",children:Ct}),e.jsx(d,{path:"branches",children:gt}),e.jsx(d,{path:"tasks",children:Zs}),e.jsx(d,{path:"vehicles",children:Xs}),e.jsx(d,{path:"clients",children:ra}),e.jsx(d,{path:"*",element:e.jsx(E,{to:"/admin/dashboard/overview",replace:!0})})]})}),Rt=o.lazy(()=>Promise.resolve({default:St})),Pt=e.jsx(d,{path:"/admin/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"admin",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu administratora...",colorClass:"border-purple-600"}),children:e.jsx(Rt,{})})})},"admin-auth")}),fe=(s,a=[])=>{const{tableQuery:r}=M({resource:s,filters:a.length?{initial:a}:void 0,pagination:{current:1,pageSize:1}});return{loading:r.isLoading,total:typeof r.data?.total=="number"?r.data.total:void 0}},Et=()=>{const s=fe("tasks",[{field:"status",operator:"eq",value:"nowe"}]),a=fe("tasks",[{field:"status",operator:"eq",value:"w_realizacji"}]),r=fe("clients"),t=fe("vehicles"),{list:n}=R(),i=({label:c,value:w,loading:h})=>e.jsxs(k,{children:[e.jsx(z,{className:"pb-2",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:c})}),e.jsx(_,{children:e.jsx("div",{className:"text-3xl font-bold",children:h?"…":w??"—"})})]}),l=({label:c,description:w,onClick:h,icon:u})=>e.jsxs(k,{className:"transition hover:shadow-md",children:[e.jsx(z,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u,c]})}),e.jsx(_,{className:"text-sm text-muted-foreground",children:w}),e.jsx(ee,{children:e.jsx(x,{variant:"outline",size:"sm",onClick:h,children:"Przejdź"})})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(C,{title:"Dashboard – Biuro",description:"Szybki podgląd i skróty"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(i,{label:"Zadania: nowe",value:s.total,loading:s.loading}),e.jsx(i,{label:"Zadania: w realizacji",value:a.total,loading:a.loading}),e.jsx(i,{label:"Klienci",value:r.total,loading:r.loading}),e.jsx(i,{label:"Pojazdy",value:t.total,loading:t.loading})]}),e.jsx(G,{}),e.jsxs(N,{children:[e.jsx(l,{label:"Zadania",description:"Lista i plan zadań",onClick:()=>n("tasks"),icon:e.jsx(re,{className:"h-4 w-4"})}),e.jsx(l,{label:"Klienci",description:"Baza klientów",onClick:()=>n("clients"),icon:e.jsx(J,{className:"h-4 w-4"})}),e.jsx(l,{label:"Flota",description:"Pojazdy w systemie",onClick:()=>n("vehicles"),icon:e.jsx(U,{className:"h-4 w-4"})})]})]})},Lt=[e.jsx(d,{index:!0,element:e.jsx(Ms,{})},"tasks-index"),e.jsx(d,{path:"create",element:e.jsx(Vs,{})},"tasks-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(Ws,{})},"tasks-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(Ks,{})},"tasks-show")],Ft=[e.jsx(d,{index:!0,element:e.jsx(Hs,{})},"vehicles-index"),e.jsx(d,{path:"create",element:e.jsx(Qs,{})},"vehicles-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(Gs,{})},"vehicles-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(Ys,{})},"vehicles-show")],At=[e.jsx(d,{index:!0,element:e.jsx(Js,{})},"clients-index"),e.jsx(d,{path:"create",element:e.jsx(ea,{})},"clients-create"),e.jsx(d,{path:"edit/:id",element:e.jsx(sa,{})},"clients-edit"),e.jsx(d,{path:"show/:id",element:e.jsx(aa,{})},"clients-show")],Dt=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{brand:"Backoffice – Biuro",children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(Et,{})}),e.jsx(d,{path:"tasks",children:Lt}),e.jsx(d,{path:"vehicles",children:Ft}),e.jsx(d,{path:"clients",children:At}),e.jsx(d,{path:"*",element:e.jsx(E,{to:"/biuro/dashboard/overview",replace:!0})})]})}),It=o.lazy(()=>Promise.resolve({default:Dt})),Tt=e.jsx(d,{path:"/biuro/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"biuro",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu Biura...",colorClass:"border-blue-600"}),children:e.jsx(It,{})})})},"biuro-auth")}),ze=(s,a=[])=>{const{tableQuery:r}=M({resource:s,filters:a.length?{initial:a}:void 0,pagination:{current:1,pageSize:1}});return{loading:r.isLoading,total:typeof r.data?.total=="number"?r.data.total:void 0}},_e=({label:s,value:a,loading:r})=>e.jsxs(k,{children:[e.jsx(z,{className:"pb-2",children:e.jsx(S,{className:"text-sm text-muted-foreground",children:s})}),e.jsx(_,{children:e.jsx("div",{className:"text-3xl font-bold",children:r?"…":a??"—"})})]}),Ce=({to:s,label:a,Icon:r,desc:t})=>{const n=Ie();return e.jsxs(k,{className:"hover:shadow-md transition",children:[e.jsx(z,{className:"pb-2",children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5 opacity-70"}),a]})}),e.jsxs(_,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t??"Szybkie przejście do modułu"}),e.jsxs(x,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(s),children:["Wejdź ",e.jsx(me,{className:"ml-2 h-4 w-4"})]})]})]})},Ot=()=>{const s=ze("tasks"),a=ze("vehicles"),r=ze("clients");return e.jsxs(P,{children:[e.jsx(y,{children:e.jsx(C,{title:"Dashboard – Logistyk",description:"Podsumowanie pracy i skróty"})}),e.jsxs(N,{children:[e.jsx(_e,{label:"Zadania",value:s.total,loading:s.loading}),e.jsx(_e,{label:"Flota",value:a.total,loading:a.loading}),e.jsx(_e,{label:"Klienci",value:r.total,loading:r.loading})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Skróty"}),e.jsxs(N,{children:[e.jsx(Ce,{to:"/logistyk/tasks",label:"Zadania",Icon:re,desc:"Plan i realizacja transportów"}),e.jsx(Ce,{to:"/logistyk/vehicles",label:"Flota",Icon:U,desc:"Pojazdy i przypisania"}),e.jsx(Ce,{to:"/logistyk/clients",label:"Klienci",Icon:J,desc:"Kontrahenci i kontakty"})]})]})]})},Bt=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{brand:"Logistyka",children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(Ot,{})}),e.jsx(d,{path:"tasks",children:Zs}),e.jsx(d,{path:"vehicles",children:Xs}),e.jsx(d,{path:"clients",children:ra}),e.jsx(d,{path:"*",element:e.jsx(E,{to:"/logistyk/dashboard/overview",replace:!0})})]})}),$t=o.lazy(()=>Promise.resolve({default:Bt})),qt=e.jsx(d,{path:"/logistyk/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"logistyk",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu logistyka...",colorClass:"border-blue-600"}),children:e.jsx($t,{})})})},"logistyk-auth")}),Ut=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard – Handlowiec"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Nowe leady: 3"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Klienci bez aktywności 7d: 4"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Spotkania dziś: 2"})]})]}),Mt=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(Ut,{})})]})}),Vt=o.lazy(()=>Promise.resolve({default:Mt})),Wt=e.jsx(d,{path:"/handlowiec/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"handlowiec",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu handlowca...",colorClass:"border-purple-600"}),children:e.jsx(Vt,{})})})},"handlowiec-auth")}),Kt=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard – Kierowca"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Moje zadania dziś: 3"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Pojazd: brak zalogowania"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Powiadomienia: 1"})]})]}),Zt=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(Kt,{})})]})}),Ht=o.lazy(()=>Promise.resolve({default:Zt})),Qt=e.jsx(d,{path:"/kierowca/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"kierowca",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu kierowcy...",colorClass:"border-purple-600"}),children:e.jsx(Ht,{})})})},"kierowca-auth")}),Gt=()=>e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard – Operator"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Zadania na placu: 5"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Zgłoszenia serwisowe: 1"}),e.jsx("div",{className:"rounded-2xl border p-4 shadow-sm",children:"Kontenery do przestawienia: 2"})]})]}),Yt=()=>e.jsx(Y,{children:e.jsxs(d,{element:e.jsx(ne,{children:e.jsx(ae,{})}),children:[e.jsx(d,{index:!0,element:e.jsx(E,{to:"dashboard/overview",replace:!0})}),e.jsx(d,{path:"dashboard/overview",element:e.jsx(Gt,{})})]})}),Xt=o.lazy(()=>Promise.resolve({default:Yt})),Jt=e.jsx(d,{path:"/operator/*",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(le,{expected:"operator",children:e.jsx(o.Suspense,{fallback:e.jsx(oe,{text:"Ładowanie panelu operatora...",colorClass:"border-purple-600"}),children:e.jsx(Xt,{})})})},"operator-auth")}),ei=o.lazy(()=>he(()=>import("./NoRolePage-jnK6biwv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(s=>({default:s.NoRolePage}))),si=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin h-10 w-10 rounded-full border-b-2 border-purple-600"})}),ai=e.jsx(d,{path:"/no-role",element:e.jsx(X,{fallback:e.jsx(E,{to:"/login",replace:!0}),children:e.jsx(o.Suspense,{fallback:e.jsx(si,{}),children:e.jsx(ei,{})})},"no-role-auth")}),ri=[{name:"dashboard",list:"/admin/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}},{...Ze,meta:{...Ze.meta,icon:e.jsx(Re,{className:"h-4 w-4"})}},{...We,meta:{...We.meta,icon:e.jsx(zs,{className:"h-4 w-4"})}},{...Le,meta:{...Le.meta,icon:e.jsx(re,{className:"h-4 w-4"})}},{...Fe,meta:{...Fe.meta,icon:e.jsx(U,{className:"h-4 w-4"})}},{...Ae,meta:{...Ae.meta,icon:e.jsx(J,{className:"h-4 w-4"})}}],ti=[{name:"dashboard",list:"/biuro/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}},{name:"tasks",list:"/biuro/tasks",create:"/biuro/tasks/create",edit:"/biuro/tasks/edit/:id",show:"/biuro/tasks/show/:id",meta:{label:"Zadania",icon:e.jsx(re,{className:"h-4 w-4"})}},{name:"vehicles",list:"/biuro/vehicles",create:"/biuro/vehicles/create",edit:"/biuro/vehicles/edit/:id",show:"/biuro/vehicles/show/:id",meta:{label:"Flota",icon:e.jsx(U,{className:"h-4 w-4"})}},{name:"clients",list:"/biuro/clients",create:"/biuro/clients/create",edit:"/biuro/clients/edit/:id",show:"/biuro/clients/show/:id",meta:{label:"Klienci",icon:e.jsx(J,{className:"h-4 w-4"})}}],ii=[{name:"dashboard",list:"/logistyk/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}},{...Le,list:"/logistyk/tasks",create:"/logistyk/tasks/create",edit:"/logistyk/tasks/edit/:id",show:"/logistyk/tasks/show/:id",meta:{label:"Zadania",icon:e.jsx(re,{className:"h-4 w-4"})}},{...Fe,list:"/logistyk/vehicles",create:"/logistyk/vehicles/create",edit:"/logistyk/vehicles/edit/:id",show:"/logistyk/vehicles/show/:id",meta:{label:"Flota",icon:e.jsx(U,{className:"h-4 w-4"})}},{...Ae,list:"/logistyk/clients",create:"/logistyk/clients/create",edit:"/logistyk/clients/edit/:id",show:"/logistyk/clients/show/:id",meta:{label:"Klienci",icon:e.jsx(J,{className:"h-4 w-4"})}}],ni=[{name:"dashboard",list:"/handlowiec/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}}],li=[{name:"dashboard",list:"/kierowca/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}}],oi=[{name:"dashboard",list:"/operator/dashboard/overview",meta:{label:"Dashboard",icon:e.jsx(ie,{className:"h-4 w-4"})}}],ci=()=>{const s=Ie(),[a,r]=o.useState(0),[t,n]=o.useState("");o.useEffect(()=>{const l=()=>r(window.scrollY);return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const i=[{name:"Sty",value:180},{name:"Lut",value:210},{name:"Mar",value:230},{name:"Kwi",value:260},{name:"Maj",value:275},{name:"Cze",value:310}];return e.jsxs("div",{className:"min-h-screen bg-white text-foreground",children:[e.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-600 to-cyan-700 rounded-xl flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold",children:"ScrapMaster"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[e.jsx("a",{href:"#moduly",className:"text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors",children:"Moduły"}),e.jsx("a",{href:"#dla-kogo",className:"text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors",children:"Dla kogo"}),e.jsx("a",{href:"#cennik",className:"text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors",children:"Cennik"}),e.jsx(x,{className:"bg-gray-900 hover:bg-gray-800 text-white text-sm px-6",onClick:()=>s("/login"),children:"Zaloguj się"})]})]})})}),e.jsx("section",{className:"pt-32 pb-20 overflow-hidden",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-center",children:[e.jsxs("div",{className:"lg:col-span-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 rounded-full mb-8",children:[e.jsx(de,{className:"w-4 h-4 text-emerald-700"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700",children:"System zarządzania złomowiskiem"})]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight mb-6",children:["Operacje, które"," ",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-700",children:"ważą się same"})]}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Kompletny system do obsługi skupu i sprzedaży złomu: waga samochodowa, przyjęcia/wywozy, cenniki frakcji, ewidencja dokumentów i rozliczenia — w jednym miejscu."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[e.jsxs(x,{size:"lg",className:"bg-gray-900 hover:bg-gray-800 text-white px-8",onClick:()=>s("/login"),children:["Wypróbuj teraz",e.jsx(me,{className:"ml-2 h-4 w-4"})]}),e.jsx(x,{size:"lg",variant:"outline",className:"border-gray-300",children:"Zobacz demo"})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"310 t"}),e.jsx("div",{className:"text-sm text-gray-500",children:"średnio / m-c"})]}),e.jsx("div",{className:"w-px h-12 bg-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"-32%"}),e.jsx("div",{className:"text-sm text-gray-500",children:"mniej błędów w ważeniu"})]}),e.jsx("div",{className:"w-px h-12 bg-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2 min"}),e.jsx("div",{className:"text-sm text-gray-500",children:"czas odprawy auta"})]})]})]}),e.jsx("div",{className:"lg:col-span-7",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-600/5 to-cyan-700/5 rounded-3xl blur-2xl"}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-600 to-cyan-700 rounded-lg flex items-center justify-center",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-semibold",children:"Panel operacyjny"})]}),e.jsx(v,{className:"bg-green-50 text-green-700 border-green-200",children:"Połączono z wagą"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(U,{className:"w-5 h-5 text-emerald-700"}),e.jsx("span",{className:"text-xs text-gray-500",children:"+18"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"142"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Wjazdy dzisiaj"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx($e,{className:"w-5 h-5 text-cyan-700"}),e.jsx("span",{className:"text-xs text-gray-500",children:"PLN"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"4,21"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Śr. cena/kg (mix)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Re,{className:"w-5 h-5 text-amber-700"}),e.jsx("span",{className:"text-xs text-gray-500",children:"0"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"Alarmy"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Zgodność / limity"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm font-medium",children:"Przerób (t/m-c)"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Ostatnie 6 miesięcy"})]}),e.jsx(tr,{width:"100%",height:120,children:e.jsxs(ir,{data:i,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorThroughput",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#059669",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#059669",stopOpacity:0})]})}),e.jsx(nr,{type:"monotone",dataKey:"value",stroke:"#059669",strokeWidth:2,fill:"url(#colorThroughput)"}),e.jsx(lr,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11}}),e.jsx(or,{hide:!0})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Aktywne zlecenia"}),e.jsx("a",{href:"#",className:"text-emerald-700 hover:underline",children:"Zobacz wszystkie"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-600 to-cyan-700 rounded-lg flex items-center justify-center",children:e.jsx(Xa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Przyjęcie: Złom stalowy (St3)"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dostawca: Metal-Pol • Brama 2"})]})]}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-600 to-sky-600 rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Wywóz: Miedź cięta"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Odbiorca: CopperTrade • 12:45"})]})]}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]})]})]})]})]})]})})]})})}),e.jsx("section",{id:"moduly",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Moduły, które"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-700",children:"upraszczają operacje"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Od wagi po fakturę — pełen przepływ materiału z kontrolą jakości i zgodnością."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:de,title:"Waga i bilety",desc:"Dwuważenie, auto-pobór z wagi, bilety przyjęcia/wywozu, tary z historii.",grad:"from-emerald-600 to-cyan-700"},{icon:Ja,title:"Magazyn frakcji",desc:"Stany w czasie rzeczywistym, frakcje/klasy, partie i numeracja dostaw.",grad:"from-cyan-700 to-sky-500"},{icon:_s,title:"Cenniki i reguły",desc:"Ceny wg frakcji, wilgotności, jakości; indeksy rynkowe i marże.",grad:"from-amber-500 to-yellow-500"},{icon:er,title:"Kontrola jakości",desc:"Zdjęcia z kamer przy wadze, notatki jakościowe, blokady i odrzuty.",grad:"from-violet-600 to-fuchsia-600"},{icon:sr,title:"Dokumenty i zgodność",desc:"KPO/BDO, WZ/PZ, JPK, rejestry kierowców i kontrahentów, audyty.",grad:"from-slate-700 to-slate-500"},{icon:ar,title:"Analityka",desc:"Marża/kg, straty technologiczne, rotacja frakcji, KPI bram i wag.",grad:"from-teal-600 to-emerald-600"}].map((l,c)=>e.jsxs("div",{className:"group relative bg-white rounded-2xl p-8 hover:shadow-lg transition-all duration-300 cursor-pointer border border-gray-100",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.grad}/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity`}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${l.grad} rounded-2xl flex items-center justify-center mb-6`,children:e.jsx(l.icon,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:l.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:l.desc}),e.jsxs("div",{className:"flex items-center text-sm text-emerald-700 font-medium",children:["Dowiedz się więcej",e.jsx(me,{className:"w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform"})]})]})]},c))})]})}),e.jsx("section",{className:"py-20 bg-white",id:"dla-kogo",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[e.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Jak to ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-700",children:"działa"})]}),e.jsx("p",{className:"text-lg text-gray-600",children:"Cztery kroki od wjazdu do rozliczenia"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-12",children:[{number:"01",title:"Wjazd i rejestracja",description:"Skan rejestracji, wybór kontrahenta, zlecenie i frakcja.",icon:U,color:"from-emerald-600 to-cyan-700"},{number:"02",title:"Ważenie i kontrola",description:"Auto-odczyt z wagi, zdjęcia z kamer, notatki jakościowe.",icon:de,color:"from-cyan-700 to-sky-500"},{number:"03",title:"Magazyn i dokumenty",description:"PZ/WZ, KPO/BDO, przyjęcie na partię i aktualizacja stanów.",icon:rr,color:"from-amber-500 to-yellow-500"},{number:"04",title:"Rozliczenie i analityka",description:"Cenniki, faktury/kwity kasowe, raporty marży i KPI.",icon:$e,color:"from-teal-600 to-emerald-600"}].map((l,c)=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:`flex items-center ${c%2===0?"flex-row":"flex-row-reverse"}`,children:[e.jsxs("div",{className:`w-5/12 ${c%2===0?"text-right pr-8":"text-left pl-8"}`,children:[e.jsxs("div",{className:`inline-flex items-center gap-4 mb-2 ${c%2===0?"flex-row-reverse":""}`,children:[e.jsx("h3",{className:"text-2xl font-bold",children:l.title}),e.jsx("span",{className:"text-4xl font-bold text-gray-200",children:l.number})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:l.description})]}),e.jsx("div",{className:"w-2/12 flex justify-center",children:e.jsx("div",{className:`relative z-10 w-16 h-16 bg-gradient-to-br ${l.color} rounded-2xl flex items-center justify-center shadow-lg`,children:e.jsx(l.icon,{className:"w-8 h-8 text-white"})})}),e.jsx("div",{className:"w-5/12"})]})},c))})]})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-900 to-gray-800",id:"cennik",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{value:"99,95%",label:"Dostępność",icon:Re},{value:"<2 min",label:"Odprawa auta",icon:U},{value:"0,1 kg",label:"Dokładność zapisu",icon:de},{value:"4.9/5",label:"Ocena użytkowników",icon:J}].map((l,c)=>e.jsxs("div",{className:"text-center",children:[e.jsx(l.icon,{className:"w-8 h-8 mx-auto mb-4 text-white/60"}),e.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:l.value}),e.jsx("div",{className:"text-sm text-white/60",children:l.label})]},c))})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["Gotowy na"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-cyan-700",children:"pełną kontrolę"}),"?"]}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Uporządkuj ważenia, dokumenty i rozliczenia. Pierwsze 30 dni gratis."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[e.jsx(g,{type:"email",placeholder:"twoj@email.pl",value:t,onChange:l=>n(l.target.value),className:"max-w-xs h-12"}),e.jsxs(x,{size:"lg",className:"bg-gradient-to-r from-emerald-600 to-cyan-700 hover:opacity-90 text-white px-8 h-12",onClick:()=>s("/login"),children:["Zarejestruj konto",e.jsx(me,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bez karty • Anuluj w każdej chwili • Pełny dostęp"})]})})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:e.jsx(Be,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-lg font-bold",children:"ScrapMaster"})]}),e.jsx("div",{className:"text-sm text-white/60",children:"© 2025 ScrapMaster. Wszystkie prawa zastrzeżone."})]})})})]})};console.log("1. Login index.tsx - ładowanie modułu");const di=o.lazy(()=>(console.log("2. Login - rozpoczęcie lazy load"),he(()=>import("./LoginPage-BF5Pr80V.js"),__vite__mapDeps([9,1,2,3,10,7,4,5,6,8])).then(s=>(console.log("3. Login - moduł załadowany",s),s)))),mi=()=>(console.log("4. Login - renderowanie fallback"),e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Ładowanie logowania..."})]})})),ta=e.jsx(d,{path:"/login",element:e.jsx(o.Suspense,{fallback:e.jsx(mi,{}),children:e.jsx(di,{})})});console.log("5. Login module exported",ta);const xi=o.lazy(()=>he(()=>import("./RegisterFlow-BFRQxNuP.js"),__vite__mapDeps([11,1,2,3,7,10,4,5,6,8]))),hi=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Przygotowywanie rejestracji..."})]})}),ui=e.jsx(d,{path:"/register/*",element:e.jsx(o.Suspense,{fallback:e.jsx(hi,{}),children:e.jsx(xi,{})})}),ji=o.lazy(()=>he(()=>import("./ForgotPasswordPage-CzoptTVF.js"),__vite__mapDeps([12,1,2,3,10,7,4,5,6,8]))),pi=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Ładowanie formularza resetowania..."})]})}),gi=e.jsx(d,{path:"/forgot-password",element:e.jsx(o.Suspense,{fallback:e.jsx(pi,{}),children:e.jsx(ji,{})})}),bi=o.lazy(()=>he(()=>import("./UpdatePasswordPage-DadOFvyo.js"),__vite__mapDeps([13,1,2,3,10,7,4,5,6,8]))),fi=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Weryfikacja linku resetowania..."})]})}),wi=e.jsx(d,{path:"/update-password",element:e.jsx(o.Suspense,{fallback:e.jsx(fi,{}),children:e.jsx(bi,{})})}),yi=new $a({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1,staleTime:300*1e3}}});function vi({children:s}){const{pathname:a}=La(),r=a.split("/")[1],t=r==="admin"?ri:r==="biuro"?ti:r==="logistyk"?ii:r==="handlowiec"?ni:r==="kierowca"?li:r==="operator"?oi:[];return e.jsx(Ua,{dataProvider:Wa(I),authProvider:fr,routerProvider:Ma,resources:t,options:{syncWithLocation:!1,warnWhenUnsavedChanges:!0,useNewQueryKeys:!0,disableTelemetry:!0},children:s})}function Ni(){return e.jsx(qa,{client:yi,children:e.jsx(Ea,{children:e.jsx(vi,{children:e.jsxs(Y,{children:[e.jsx(d,{path:"/",element:e.jsx(ci,{})}),ta,ui,gi,wi,ai,Pt,Tt,qt,Wt,Qt,Jt,e.jsx(d,{path:"*",element:e.jsx(E,{to:"/",replace:!0})})]})})})})}const ki=document.getElementById("root"),zi=dr.createRoot(ki);zi.render(e.jsxs(Fa.StrictMode,{children:[e.jsx(Ni,{}),e.jsx(Aa,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{style:{width:"500px",fontSize:"20px"},className:"sonner-toast"}})]}));export{yr as A,x as B,k as C,K as F,g as I,C as L,z as a,S as b,_ as c,Nr as d,Es as e,j as f,st as g,Z as h,Pe as i,Rs as j,Cs as l,Ss as r,I as s,Ps as u};
